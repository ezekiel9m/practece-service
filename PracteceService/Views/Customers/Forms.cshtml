@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<p></p>
<h2>Cadastrar Cliente</h2>
<div class="container">
    <form id="formCreate" method="post">
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="name">Nome</label>
                <input required="required" type="text" class="form-control" id="name" name="name" placeholder="" maxlength="20">
            </div>
            <div class="form-group col-md-6">
                <label for="last_name">Sobrenome</label>
                <input required="required" type="text" class="form-control" id="last_name" name="last_name" placeholder="" maxlength="20">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="document_number">Documento</label>
                <input required="required" type="text" class="form-control" id="document_number" name="document_number" placeholder="" maxlength="15">
            </div>
            <div class="form-group col-md-4">
                <label for="gender">Sexo</label>
                <select required="required" class="form-control" id="gender" name="gender">
                    <option selected>... Selecione ...</option>
                    <option value="M">Masculino</option>
                    <option value="F">Femenino</option>
                </select>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="email">E-mail</label>
                <input required="required" type="email" class="form-control" id="email" name="email" placeholder="" maxlength="50">
            </div>
            <div class="form-group col-md-6">
                <label for="phone_umber">Telefone</label>
                <input type="tel" class="form-control" id="phone_umber" name="phone_umber" placeholder="">
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="pull-right">
                    <a class="btn btn-info" asp-controller="Customers" asp-action="ListCustomer">Back</a>
                    <button type="submit" class="btn btn-sm btn-success">Cadastar</button>
                </div>
            </div>
        </div>
    </form>
</div>

<script type="text/javascript">

    function btnIncluir() {
        $('#formCreate').submit(function (e) {
           e.preventDefault();

            $.ajax({
                url: '@Url.Action("CreateCustomer", "Customers")',
                method: "POST",
                data: {
                    "name": $(this).find("#name").val(),
                    "last_name": $(this).find("#last_name").val(),
                    "document_number": $(this).find("#document_number").val(),
                    "phone_numebr": $(this).find("#phone_numebr").val(),
                    "email": $(this).find("#email").val(),
                    "gender": $(this).find("#gender").val(),
                },
                error:
                    function (r) {
                        if (r)
                            $.Notification.notify('error', 'top center', 'Falha', 'Ocoreru um erro.');
                    },
                success:
                    function (r) {
                        $.Notification.notify('success', 'top center', 'Sucesso', 'Salvo com sucesso.');
                    }
            });
       })
    }
</script>